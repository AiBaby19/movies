(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){e.exports=n(66)},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(21),r=n.n(o),l=n(13),s=n(7),c=n.n(s),u=n(8),d=n(2),m=n(3),p=n(5),v=n(4),f=n(6),g=n(9),h=n.n(g),b=(n(49),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={movieTitle:""},n.getMovieData=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.movieTitle,a={},e.next=4,h.a.get("https://www.omdbapi.com/?apikey=3c722a44&s=".concat(t)).then(function(e){a=e.data.Search,n.props.renderMovieList(a)}).catch(function(e){return console.log(e)});case 4:case"end":return e.stop()}},e,this)})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"wrapper"},i.a.createElement("input",{className:"searchInput",type:"text",placeholder:"Search A Movie...",onChange:function(t){return e.setState({movieTitle:t.currentTarget.value})}}),i.a.createElement("button",{className:"btn",onClick:function(){return e.getMovieData()}},"SEARCH")))}}]),t}(a.Component)),E=(n(51),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container-menu",id:"sidebar"},i.a.createElement("div",{className:"logo"},"LOGO"),i.a.createElement("div",{className:"ul-contianer"},i.a.createElement("ul",{className:"ulMenu"},i.a.createElement("li",null,"HOME"),i.a.createElement("li",null,"FAVORITES"),i.a.createElement("li",null,"CONTACT")))))}}]),t}(a.Component)),I=n(10),O=n(11),M=(n(53),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={},n.renderMovieInfo=function(){var e={};return console.log(n.props.movieInModal),Object.keys(n.props.movieInModal).map(function(t){return"imdbID"===t||"Poster"===t?void 0:(e[t]=n.props.movieInModal[t],e.imdbID=n.props.movieInModal.imdbID,i.a.createElement("div",{key:t,className:"movie-info"},i.a.createElement("b",{style:{textTransform:"uppercase"}},t),": ",n.state[t]?n.state[t]:n.props.movieInModal[t],i.a.createElement("input",{type:"text",id:"fields",placeholder:"Edit ".concat(t),onChange:function(a){return n.cleanUpEditedText(a,e,t)}})))})},n.cleanUpEditedText=function(e,t,a){if(console.log(n.props.editedText),"Poster"!==a||"imdbID"!==a||"Year"!==a){var i=e.currentTarget.value.replace(/[^a-z0-9]/gim," ").toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" ");t[a]=i||t[a]}n.setState(function(e){return Object(O.a)(Object(I.a)({},a,t[a]),e.state)})},n.verifyEditedInfo=function(){var e=Object(O.a)({},n.state);for(var t in e){if(e[t].match(/^\s+$/))return void n.props.toggleAlert("please dont leave empty fields.");if("Year"===t){if(e[t]>(new Date).getFullYear()||e[t]<1920)return void n.props.toggleAlert("Please provide a reasonable year.");if(e[t].match(/[a-zA-Z]/g))return void n.props.toggleAlert("Use numbers for the Year.")}}n.findDuplicateTitle()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState(Object(O.a)({},e.props.movieInModal))},500)}},{key:"findDuplicateTitle",value:function(){for(var e=this.props.movieList,t=0;t<e.length;t++)if(this.state.imdbID!==e[0].imdbID&&this.state.Title===e[0].Title)return void this.props.toggleAlert("Title already exist, Choose another name.");this.props.togglePopUp(this.state,"save")}},{key:"render",value:function(){var e=this,t=this.props.movieInModal;return i.a.createElement("div",{className:"modal-div"},i.a.createElement("button",{className:"exit-btn",onClick:function(){return e.props.toggleModal()}},"X"),i.a.createElement("div",{className:"content-div"},i.a.createElement("div",{className:"written-content"},i.a.createElement("div",null,i.a.createElement("b",null,"IMDB ID"),": ",t.imdbID),this.renderMovieInfo()),i.a.createElement("div",{className:"img-content"},i.a.createElement("img",{src:t.Poster,alt:t.Title,height:"350",width:"250"}))),i.a.createElement("div",{className:"saveCancelBtn"},i.a.createElement("button",{className:"btn",onClick:function(){return e.verifyEditedInfo()}},"SAVE"),i.a.createElement("button",{className:"btn btn-cancel",onClick:function(){return e.props.toggleModal()}},"CANCEL")))}}]),t}(a.Component)),y=(n(55),function(e){return i.a.createElement("div",{className:"movie-div"},i.a.createElement("div",{className:"inner-div"},i.a.createElement("div",{className:"img-div"},i.a.createElement("img",{src:e.poster,alt:e.title,style:{width:"170px",maxHeight:"220px"}})),i.a.createElement("div",{className:"exit-btn-div"},i.a.createElement("button",{className:"close-btn",onClick:function(){return e.togglePopUp(e.imdbID,"delete")}},"X")),i.a.createElement("div",{className:"edit-btn-div"},i.a.createElement("button",{className:"edit-btn",onClick:function(){return e.toggleModal(e.imdbID)}},"EDIT"))),i.a.createElement("h5",null,e.title))}),N=(n(57),function(e){return i.a.createElement("div",{className:"movie-list "},e.movieList.map(function(t){var n=t.Title,a=t.Poster,o=t.imdbID;return i.a.createElement(y,{key:o,togglePopUp:e.togglePopUp,toggleModal:e.toggleModal,imdbID:o,title:n,poster:"N/A"===a?"public/resources/img/blank.png":a})}))}),w=(n(59),function(e){return i.a.createElement("div",{className:"home-container"},i.a.createElement("div",{className:"opacity"},i.a.createElement("h1",{className:"home-headline"},"Find A Movie"),i.a.createElement(N,{toggleModal:e.toggleModal,movieList:e.movieList,togglePopUp:e.togglePopUp,fullMovieInfo:e.fullMovieInfo})))}),D=(n(20),function(e){return i.a.createElement("div",{className:"popUp-div"},i.a.createElement("div",{className:"inner-popup-div"},i.a.createElement("p",null,"Are you sure you want to",i.a.createElement("span",null,i.a.createElement("b",{style:{fontWeight:"700"}}," ",e.saveOrDelete," ")),"this movie?"),i.a.createElement("div",{className:"btn-div"},i.a.createElement("button",{className:"btn",onClick:function(){return"delete"===e.saveOrDelete&&e.deleteMovie(),void("save"===e.saveOrDelete&&e.saveEditedInfo())}},"CONFIRM"),i.a.createElement("button",{className:"btn btn-cancel",onClick:function(){return e.togglePopUp()}},"CANCEL"))))}),k=function(e){return i.a.createElement("div",{className:"popUp-div"},i.a.createElement("div",{className:"alert-header"},"Alert!"),i.a.createElement("div",{className:"inner-popup-div alert-inner-div"},i.a.createElement("p",null,e.alertType),i.a.createElement("div",{className:"btn-div"},i.a.createElement("button",{className:"btn alert-btn",onClick:function(){return e.toggleAlert()}},"OK"))))},j=(n(62),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={movieList:[],isModalOpen:!1,isPopUpOpen:!1,movieInModal:{},saveOrDeletePopUp:null,isAlert:!1,deleteIdOrVerifiedInfo:"",alertType:""},n.toggleModal=function(e){n.setState({isModalOpen:!n.state.isModalOpen},function(){return n.getFullMovieInfo(e)})},n.toggleAlert=function(e){n.setState({isAlert:!n.state.isAlert,alertType:e})},n.fetchFirstList=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,h.a.get("https://www.omdbapi.com/?apikey=3c722a44&s=thor").then(function(e){t=e.data.Search,n.renderMovieList(t)}).catch(function(e){return console.log(e)});case 3:case"end":return e.stop()}},e,this)})),n.renderMovieList=function(e){e=n.deleteDuplicatesImdb(e),n.setState({movieList:e})},n.deleteDuplicatesImdb=function(e){return e.filter(function(t){return t===e.find(function(e){return n=t,e.imdbID===n.imdbID;var n})})},n.getMovieIndex=function(e){return n.state.movieList.findIndex(function(t){return t.imdbID===e})},n.togglePopUp=function(e,t){n.setState({isPopUpOpen:!n.state.isPopUpOpen,deleteIdOrVerifiedInfo:e,saveOrDelete:t})},n.deleteMovie=function(){var e=n.state.deleteIdOrVerifiedInfo,t=Object(l.a)(n.state.movieList),a=n.getMovieIndex(e);t.splice(a,1),n.setState({movieList:t,isPopUpOpen:!n.state.isPopUpOpen})},n.saveEditedInfo=function(){var e=n.state.deleteIdOrVerifiedInfo;console.log("approvedTextInfo",e);var t=Object(l.a)(n.state.movieList),a=n.getMovieIndex(e.imdbID);t.splice(a,1,e),n.setState({movieList:t,isModalOpen:!n.state.isModalOpen,isPopUpOpen:!n.state.isPopUpOpen})},n.getFullMovieInfo=function(){var e=Object(u.a)(c.a.mark(function e(t){var a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.isModalOpen){e.next=2;break}return e.abrupt("return");case 2:if(a={},i=n.getMovieIndex(t),!(Object.keys(n.state.movieList[i]).length>5)){e.next=8;break}n.setState({movieInModal:n.state.movieList[i]}),e.next=10;break;case 8:return e.next=10,h.a.get("https://www.omdbapi.com/?apikey=3c722a44&i=".concat(t,"&Runtime")).then(function(e){a={imdbID:e.data.imdbID,Title:e.data.Title,Year:e.data.Year,RunTime:e.data.Runtime,Genre:e.data.Genre,Director:e.data.Director,Poster:e.data.Poster}}).then(function(){return n.setState({movieInModal:a})}).catch(function(e){return console.log(e)});case 10:case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchFirstList()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E,null),i.a.createElement(b,{renderMovieList:this.renderMovieList}),i.a.createElement(w,{toggleModal:this.toggleModal,deleteMovie:this.deleteMovie,togglePopUp:this.togglePopUp,movieList:this.state.movieList}),this.state.isModalOpen?i.a.createElement(M,{movieInModal:this.state.movieInModal,toggleModal:this.toggleModal,togglePopUp:this.togglePopUp,movieList:this.state.movieList,verifyEditedInfo:this.verifyEditedInfo,toggleAlert:this.toggleAlert}):null,this.state.isPopUpOpen?i.a.createElement(D,{togglePopUp:this.togglePopUp,deleteMovie:this.deleteMovie,saveOrDelete:this.state.saveOrDelete,saveEditedInfo:this.saveEditedInfo}):null,this.state.isAlert?i.a.createElement(k,{toggleAlert:this.toggleAlert,alertType:this.state.alertType}):null)}}]),t}(a.Component));n(64),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.28e4aacc.chunk.js.map